# =============================================================================
# GigaChad GRC - Environment Configuration
# =============================================================================
# Copy this file to .env in the project root and update the values
# WARNING: Never commit .env files with real credentials to version control!
# =============================================================================

# =============================================================================
# GENERAL SETTINGS
# =============================================================================

# Application Environment (development, staging, production)
NODE_ENV=production

# Application Domain (without protocol)
APP_DOMAIN=grc.example.com

# Log level for all services (debug, info, warn, error)
LOG_LEVEL=info

# Timezone for the application
TZ=UTC

# Docker image tag (for versioned deployments)
IMAGE_TAG=latest

# =============================================================================
# DATABASE - PostgreSQL
# =============================================================================

# Database credentials (CHANGE THESE IN PRODUCTION!)
POSTGRES_USER=grc
POSTGRES_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD
POSTGRES_DB=gigachad_grc

# Connection pooling settings (optional)
# DATABASE_POOL_MIN=5
# DATABASE_POOL_MAX=20

# =============================================================================
# CACHE - Redis
# =============================================================================

# Redis password (CHANGE THIS IN PRODUCTION!)
REDIS_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# Redis max memory allocation
REDIS_MAX_MEMORY=512mb

# Redis log level (debug, verbose, notice, warning)
REDIS_LOG_LEVEL=warning

# =============================================================================
# AUTHENTICATION - Keycloak
# =============================================================================

# Keycloak admin credentials (CHANGE THESE IN PRODUCTION!)
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# Keycloak hostname (should match your domain)
KEYCLOAK_HOSTNAME=auth.grc.example.com

# Keycloak realm name
KEYCLOAK_REALM=grc

# Keycloak database pool settings
KC_DB_POOL_INITIAL_SIZE=5
KC_DB_POOL_MIN_SIZE=5
KC_DB_POOL_MAX_SIZE=20

# Keycloak log level
KC_LOG_LEVEL=info

# =============================================================================
# OBJECT STORAGE - MinIO
# =============================================================================

# MinIO credentials (CHANGE THESE IN PRODUCTION!)
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# MinIO browser console (on/off) - disable in production for security
MINIO_BROWSER=off

# MinIO domain
MINIO_DOMAIN=storage.grc.example.com

# =============================================================================
# SECURITY
# =============================================================================

# JWT Secret for internal service communication (CHANGE THIS!)
# Generate with: openssl rand -base64 64
JWT_SECRET=CHANGE_ME_TO_64_CHAR_RANDOM_STRING

# Encryption key for sensitive data (integrations, credentials)
# REQUIRED: Must be at least 32 characters
# Generate with: openssl rand -base64 32
ENCRYPTION_KEY=CHANGE_ME_TO_32_CHAR_RANDOM_STRING

# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://grc.example.com

# =============================================================================
# RATE LIMITING
# =============================================================================

# Enable/disable rate limiting
RATE_LIMIT_ENABLED=true

# Maximum requests per window
RATE_LIMIT_MAX=100

# Rate limit window in milliseconds (default: 1 minute)
RATE_LIMIT_WINDOW_MS=60000

# =============================================================================
# TLS/SSL - Let's Encrypt
# =============================================================================

# Email for Let's Encrypt certificate notifications
ACME_EMAIL=admin@example.com

# =============================================================================
# API GATEWAY - Traefik
# =============================================================================

# Traefik log level (DEBUG, INFO, WARN, ERROR)
TRAEFIK_LOG_LEVEL=WARN

# =============================================================================
# EMAIL NOTIFICATIONS
# =============================================================================
# Email service supports multiple providers: console, smtp, sendgrid, ses
# Set EMAIL_PROVIDER to choose your email delivery method

# Email provider (console, smtp, sendgrid, ses)
# console = Development mode - logs emails to console instead of sending
EMAIL_PROVIDER=console

# From address and name for all outgoing emails
EMAIL_FROM=noreply@grc.example.com
EMAIL_FROM_NAME=GigaChad GRC

# -----------------------------------------------------------------------------
# SMTP Configuration (when EMAIL_PROVIDER=smtp)
# -----------------------------------------------------------------------------
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=notifications@example.com
# SMTP_PASS=CHANGE_ME_TO_SECURE_PASSWORD
# SMTP_SECURE=false

# -----------------------------------------------------------------------------
# SendGrid Configuration (when EMAIL_PROVIDER=sendgrid)
# -----------------------------------------------------------------------------
# SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxx

# -----------------------------------------------------------------------------
# AWS SES Configuration (when EMAIL_PROVIDER=ses)
# -----------------------------------------------------------------------------
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
# AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

# =============================================================================
# MONITORING (Optional - for production observability)
# =============================================================================

# Prometheus metrics endpoint
# METRICS_ENABLED=true
# METRICS_PORT=9090

# Sentry error tracking
# SENTRY_DSN=https://xxx@sentry.io/xxx

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup retention in days
BACKUP_RETENTION_DAYS=30

# S3 bucket for backups (if using external S3)
# BACKUP_S3_BUCKET=grc-backups
# BACKUP_S3_REGION=us-east-1
# BACKUP_S3_ACCESS_KEY=xxx
# BACKUP_S3_SECRET_KEY=xxx

